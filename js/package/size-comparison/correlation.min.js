import{simd as y}from"wasm-feature-detect";function f(o,r,e){return new Float64Array(e.buffer,o,r)}function s(o,r){if(o instanceof Float64Array)r.set(o);else if(o instanceof Array)r.set(o);else{let e=o.length;if(e>0&&typeof o[0]=="number")try{r.set(o)}catch{for(let t=0;t<e;t++)r[t]=o[t]}else for(let t=0;t<o.length;t++)r[t]=o[t]}}async function a(o){let r=await y();return await import(o)}var n=null;async function h(){if(n)return;n=await a("../../../crates/stat-wasm-correlation/pkg/stat_wasm_correlation.js")}function l(o){return(r,e)=>{if(!n)throw new Error("Wasm module not initialized. Call init() first.");if(r.length!==e.length)return NaN;let t=r.length;if(t===0)return NaN;let c=n.alloc_f64(t),i=n.alloc_f64(t),u=f(c,t,n.get_memory()),p=f(i,t,n.get_memory());s(r,u),s(e,p);let m=o(c,t,i,t);return n.free_f64(c,t),n.free_f64(i,t),m}}var x=l((o,r,e,t)=>n.covariance_f64(o,r,e,t)),A=l((o,r,e,t)=>n.corrcoeff_f64(o,r,e,t)),W=l((o,r,e,t)=>n.spearmancoeff_f64(o,r,e,t));export{A as corrcoeff,x as covariance,h as init,W as spearmancoeff};
