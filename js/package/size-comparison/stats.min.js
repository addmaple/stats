import{simd as _}from"wasm-feature-detect";function c(t,e,r){return new Float64Array(r.buffer,t,e)}function a(t,e){if(t instanceof Float64Array)e.set(t);else if(t instanceof Array)e.set(t);else{let r=t.length;if(r>0&&typeof t[0]=="number")try{e.set(t)}catch{for(let n=0;n<r;n++)e[n]=t[n]}else for(let n=0;n<t.length;n++)e[n]=t[n]}}function p(t,e){let r=c(t.ptr,t.len,e),n=new Float64Array(t.len);return n.set(r),n}async function u(t){let e=await _();return await import(t)}var o=null;async function d(){if(o)return;o=await u("../../../crates/stat-wasm-stats/pkg/stat_wasm_stats.js")}function s(t){return e=>{if(!o)throw new Error("Wasm module not initialized. Call init() first.");let r=e.length;if(r===0)return t===o.min_f64?NaN:t===o.max_f64?NaN:0;let n=o.alloc_f64(r),f=c(n,r,o.get_memory());a(e,f);let i=t(n,r);return o.free_f64(n,r),i}}function l(t){return e=>{if(!o)throw new Error("Wasm module not initialized. Call init() first.");let r=e.length;if(r===0)return new Float64Array;let n=o.alloc_f64(r),f=c(n,r,o.get_memory());a(e,f);let i=t(n,r),m=p(i,o.get_memory());return o.free_f64(n,r),o.free_f64(i.ptr,i.len),m}}var g=s((t,e)=>o.sum_f64(t,e)),h=s((t,e)=>o.mean_f64(t,e)),A=s((t,e)=>o.variance_f64(t,e)),W=s((t,e)=>o.sample_variance_f64(t,e)),v=s((t,e)=>o.stdev_f64(t,e)),k=s((t,e)=>o.sample_stdev_f64(t,e)),F=s((t,e)=>o.coeffvar_f64(t,e)),M=s((t,e)=>o.min_f64(t,e)),V=s((t,e)=>o.max_f64(t,e)),z=s((t,e)=>o.product_f64(t,e)),C=s((t,e)=>o.range_f64(t,e)),E=s((t,e)=>o.median_f64(t,e)),N=s((t,e)=>o.mode_f64(t,e)),b=s((t,e)=>o.geomean_f64(t,e)),P=s((t,e)=>o.skewness_f64(t,e)),S=s((t,e)=>o.kurtosis_f64(t,e)),T=l((t,e)=>o.cumsum_f64(t,e)),j=l((t,e)=>o.cumprod_f64(t,e)),q=l((t,e)=>o.diff_f64(t,e)),H=l((t,e)=>o.rank_f64(t,e));function O(t,e){if(!o)throw new Error("Wasm module not initialized. Call init() first.");let r=t.length;if(r===0)return new Float64Array;let n=o.alloc_f64(r),f=c(n,r,o.get_memory());a(t,f);let i=o.histogram_f64(n,r,e),m=p(i,o.get_memory());return o.free_f64(n,r),o.free_f64(i.ptr,i.len),m}export{F as coeffvar,j as cumprod,T as cumsum,q as diff,b as geomean,O as histogram,d as init,S as kurtosis,V as max,h as mean,E as median,M as min,N as mode,z as product,C as range,H as rank,k as sampleStdev,W as sampleVariance,P as skewness,v as stdev,g as sum,A as variance};
